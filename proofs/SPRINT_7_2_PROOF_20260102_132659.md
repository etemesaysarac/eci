# Sprint 7.2 Proof Pack

- GeneratedAt: 2026-01-02T13:26:59
- BaseUrl: http://127.0.0.1:3001
- ConnectionId: cmjvat2w40000e6j473j38tno
- PackageId: 3504063748
- LineId: 5019899160

## 1) Actions transcript

Transcript: C:\dev\eci\Çıktılar.txt

~~~text
>>   $md.Add(("Detected jobId: `{0}`" -f $jobId))
>> } else {
>>   $md.Add("> No jobId found in transcript; will fallback to SYNC_SUMMARY from worker log.")
>> }
>> $md.Add("")
>>
>> # --- Worker log slice ---
>> $workerLines = Read-LastLines $WorkerLogPath 5000
>> $md.Add(("WorkerLog: `{0}`" -f $WorkerLogPath))
>> $md.Add("")
>> if ($workerLines.Count -eq 0) {
>>   $md.Add("> Worker log not found or empty. Start worker with Tee-Object to write `C:\dev\eci\worker.log`.")
>> } else {
>>   $pick = @()
>>   if ($jobId) {
>>     $pick = $workerLines | Where-Object { $_ -match $jobId }
>>   }
>>   if (-not $pick -or $pick.Count -eq 0) {
>>     $pick = $workerLines | Where-Object { $_ -match "SYNC_SUMMARY" } | Select-Object -Last 20
>>   }
>>
>>   $md.Add("```text")
>>   $pick | ForEach-Object { $md.Add($_) }
>>   $md.Add("```")
>> }
>> $md.Add("")
>>
>> # --- Query packages for orderNumber & packageId list ---
>> $md.Add("## 3) OrderNumber → shipmentPackageId snapshot")
>> $md.Add("")
>> try {
>>   $pkgs = Invoke-RestMethod -Method Get -Uri ("{0}/v1/shipment-packages?connectionId={1}" -f $BaseUrl, $ConnectionId)
>>   $old = $pkgs | Where-Object { $_.shipmentPackageId -eq $PackageId } | Select-Object -First 1
>>   if ($old -and $old.raw -and $old.raw.orderNumber) {
>>     $ord = $old.raw.orderNumber
>>     $md.Add(("orderNumber: `{0}`" -f $ord))
>>     $md.Add("")
>>     $md.Add("| shipmentPackageId | status | id |")
>>     $md.Add("|---:|---|---|")
>>     ($pkgs | Where-Object { $_.raw.orderNumber -eq $ord } | Select-Object shipmentPackageId, status, id) | ForEach-Object {
>>       $md.Add(("| {0} | {1} | {2} |" -f $_.shipmentPackageId, $_.status, $_.id))
>>     }
>>   } else {
>>     $md.Add("> Could not resolve orderNumber for given PackageId from API response.")
>>   }
>> } catch {
>>   $md.Add(("> Failed to query shipment packages: {0}" -f $_.Exception.Message))
>> }
>>
>> $mdText = $md -join "`n"
>> Set-Content -LiteralPath $out -Value $mdText -Encoding UTF8
>> Write-Host ("OK: proof generated -> {0}" -f $out) -ForegroundColor Green
>> '@ | Set-Content -Encoding UTF8 -Path .\scripts\ps1\generate_sprint7_2_proof.ps1
PS C:\dev\eci>
PS C:\dev\eci> cd C:\dev\eci
PS C:\dev\eci> pwsh -ExecutionPolicy Bypass -File .\scripts\ps1\generate_sprint7_2_proof.ps1 `
>>   -BaseUrl "http://127.0.0.1:3001" `
>>   -ConnectionId "cmjvat2w40000e6j473j38tno" `
>>   -PackageId "3504063748" `
>>   -LineId 5019899160 `
>>   -WorkerLogPath "C:\dev\eci\worker.log" `
>>   -ActionsTranscriptPath "C:\dev\eci\Çıktılar.txt"
ParserError: C:\dev\eci\scripts\ps1\generate_sprint7_2_proof.ps1:45
Line |
  45 |  $md.Add("```text")
     |           ~~~~~~~~~
     | Unexpected token '```text") ($transLines | Select-Object -Last 80) | ForEach-Object {
     | $md.Add($_) } $md.Add("```"' in expression or statement.
PS C:\dev\eci> Get-ChildItem .\proofs\SPRINT_7_2_PROOF_*.md | Sort-Object LastWriteTime -Descending | Select-Object -First 3


    Directory: C:\dev\eci\proofs


Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
-a----         2.01.2026     09:46            180 SPRINT_7_2_PROOF_TEMPLATE.md


PS C:\dev\eci>
~~~

## 2) Refetch job evidence

> No jobId found in transcript; will fallback to SYNC_SUMMARY from worker log.

WorkerLog: C:\dev\eci\worker.log

~~~text
[eci-worker] 2026-01-02T09:55:25.256Z SYNC_SUMMARY {"connectionId":"cmjvat2w40000e6j473j38tno","jobId":"cmjwp7cal000ze6z04giiy7ec","windowStart":"2026-01-02T09:39:25.242Z","windowEnd":"2026-01-02T09:53:25.079Z","fetched":0,"upserted":0,"inserted":0,"durationMs":174,"usedAutoWindow":true}
[eci-worker] 2026-01-02T09:56:25.235Z SYNC_SUMMARY {"connectionId":"cmjvat2w40000e6j473j38tno","jobId":"cmjwp8mlf0011e6z0xq36x6yb","windowStart":"2026-01-02T09:40:25.253Z","windowEnd":"2026-01-02T09:54:25.083Z","fetched":0,"upserted":0,"inserted":0,"durationMs":147,"usedAutoWindow":true}
[eci-worker] 2026-01-02T09:57:25.225Z SYNC_SUMMARY {"connectionId":"cmjvat2w40000e6j473j38tno","jobId":"cmjwp9wwa0013e6z0exzd8c95","windowStart":"2026-01-02T09:41:25.230Z","windowEnd":"2026-01-02T09:55:25.091Z","fetched":0,"upserted":0,"inserted":0,"durationMs":130,"usedAutoWindow":true}
[eci-worker] 2026-01-02T09:58:25.236Z SYNC_SUMMARY {"connectionId":"cmjvat2w40000e6j473j38tno","jobId":"cmjwpb77k0015e6z0zv2duiho","windowStart":"2026-01-02T09:42:25.221Z","windowEnd":"2026-01-02T09:56:25.118Z","fetched":0,"upserted":0,"inserted":0,"durationMs":113,"usedAutoWindow":true}
[eci-worker] 2026-01-02T10:00:25.252Z SYNC_SUMMARY {"connectionId":"cmjvat2w40000e6j473j38tno","jobId":"cmjwpdrss0019e6z096rggpup","windowStart":"2026-01-02T09:44:25.326Z","windowEnd":"2026-01-02T09:58:25.103Z","fetched":0,"upserted":0,"inserted":0,"durationMs":143,"usedAutoWindow":true}
[eci-worker] 2026-01-02T10:01:25.256Z SYNC_SUMMARY {"connectionId":"cmjvat2w40000e6j473j38tno","jobId":"cmjwpf23v001be6z01fjqkppp","windowStart":"2026-01-02T09:45:25.246Z","windowEnd":"2026-01-02T09:59:25.120Z","fetched":0,"upserted":0,"inserted":0,"durationMs":130,"usedAutoWindow":true}
[eci-worker] 2026-01-02T10:02:25.287Z SYNC_SUMMARY {"connectionId":"cmjvat2w40000e6j473j38tno","jobId":"cmjwpgcew001de6z0s8vr7s72","windowStart":"2026-01-02T09:46:25.250Z","windowEnd":"2026-01-02T10:00:25.134Z","fetched":0,"upserted":0,"inserted":0,"durationMs":149,"usedAutoWindow":true}
[eci-worker] 2026-01-02T10:03:25.314Z SYNC_SUMMARY {"connectionId":"cmjvat2w40000e6j473j38tno","jobId":"cmjwphmqc001fe6z0geiib2ej","windowStart":"2026-01-02T09:47:25.283Z","windowEnd":"2026-01-02T10:01:25.168Z","fetched":0,"upserted":0,"inserted":0,"durationMs":141,"usedAutoWindow":true}
[eci-worker] 2026-01-02T10:04:25.290Z SYNC_SUMMARY {"connectionId":"cmjvat2w40000e6j473j38tno","jobId":"cmjwpix0i001he6z09ehz2vwt","windowStart":"2026-01-02T09:48:25.309Z","windowEnd":"2026-01-02T10:02:25.147Z","fetched":0,"upserted":0,"inserted":0,"durationMs":138,"usedAutoWindow":true}
[eci-worker] 2026-01-02T10:06:25.299Z SYNC_SUMMARY {"connectionId":"cmjvat2w40000e6j473j38tno","jobId":"cmjwplhmf001le6z0mh6onqer","windowStart":"2026-01-02T09:50:25.357Z","windowEnd":"2026-01-02T10:04:25.164Z","fetched":0,"upserted":0,"inserted":0,"durationMs":130,"usedAutoWindow":true}
[eci-worker] 2026-01-02T10:08:25.363Z SYNC_SUMMARY {"connectionId":"cmjvat2w40000e6j473j38tno","jobId":"cmjwpo28q001pe6z09aur2oca","windowStart":"2026-01-02T09:52:25.301Z","windowEnd":"2026-01-02T10:06:25.206Z","fetched":0,"upserted":0,"inserted":0,"durationMs":153,"usedAutoWindow":true}
[eci-worker] 2026-01-02T10:10:25.355Z SYNC_SUMMARY {"connectionId":"cmjvat2w40000e6j473j38tno","jobId":"cmjwpqmue001te6z0mng4u8no","windowStart":"2026-01-02T09:54:25.369Z","windowEnd":"2026-01-02T10:08:25.214Z","fetched":0,"upserted":0,"inserted":0,"durationMs":136,"usedAutoWindow":true}
[eci-worker] 2026-01-02T10:12:25.368Z SYNC_SUMMARY {"connectionId":"cmjvat2w40000e6j473j38tno","jobId":"cmjwpt7g3001xe6z0d4jdenxq","windowStart":"2026-01-02T09:56:25.373Z","windowEnd":"2026-01-02T10:10:25.227Z","fetched":0,"upserted":0,"inserted":0,"durationMs":137,"usedAutoWindow":true}
[eci-worker] 2026-01-02T10:14:25.396Z SYNC_SUMMARY {"connectionId":"cmjvat2w40000e6j473j38tno","jobId":"cmjwpvs1z0021e6z029bnge3o","windowStart":"2026-01-02T09:58:25.398Z","windowEnd":"2026-01-02T10:12:25.249Z","fetched":0,"upserted":0,"inserted":0,"durationMs":142,"usedAutoWindow":true}
[eci-worker] 2026-01-02T10:16:25.396Z SYNC_SUMMARY {"connectionId":"cmjvat2w40000e6j473j38tno","jobId":"cmjwpycno0025e6z0t1m2u5md","windowStart":"2026-01-02T10:00:25.361Z","windowEnd":"2026-01-02T10:14:25.261Z","fetched":0,"upserted":0,"inserted":0,"durationMs":130,"usedAutoWindow":true}
[eci-worker] 2026-01-02T10:18:25.419Z SYNC_SUMMARY {"connectionId":"cmjvat2w40000e6j473j38tno","jobId":"cmjwq0x9r0029e6z0xofbbnr6","windowStart":"2026-01-02T10:02:25.399Z","windowEnd":"2026-01-02T10:16:25.284Z","fetched":0,"upserted":0,"inserted":0,"durationMs":130,"usedAutoWindow":true}
[eci-worker] 2026-01-02T10:20:25.409Z SYNC_SUMMARY {"connectionId":"cmjvat2w40000e6j473j38tno","jobId":"cmjwq3hv1002de6z0ti2wr5or","windowStart":"2026-01-02T10:04:25.475Z","windowEnd":"2026-01-02T10:18:25.278Z","fetched":0,"upserted":0,"inserted":0,"durationMs":128,"usedAutoWindow":true}
[eci-worker] 2026-01-02T10:22:25.427Z SYNC_SUMMARY {"connectionId":"cmjvat2w40000e6j473j38tno","jobId":"cmjwq62gv002he6z0rii9ulbh","windowStart":"2026-01-02T10:06:25.424Z","windowEnd":"2026-01-02T10:20:25.299Z","fetched":0,"upserted":0,"inserted":0,"durationMs":124,"usedAutoWindow":true}
[eci-worker] 2026-01-02T10:24:25.449Z SYNC_SUMMARY {"connectionId":"cmjvat2w40000e6j473j38tno","jobId":"cmjwq8n2d002le6z00dthv2dh","windowStart":"2026-01-02T10:08:25.582Z","windowEnd":"2026-01-02T10:22:25.309Z","fetched":0,"upserted":0,"inserted":0,"durationMs":136,"usedAutoWindow":true}
[eci-worker] 2026-01-02T10:26:25.468Z SYNC_SUMMARY {"connectionId":"cmjvat2w40000e6j473j38tno","jobId":"cmjwqb7o2002pe6z0iants8bd","windowStart":"2026-01-02T10:10:25.480Z","windowEnd":"2026-01-02T10:24:25.316Z","fetched":0,"upserted":0,"inserted":0,"durationMs":148,"usedAutoWindow":true}
~~~

## 3) OrderNumber → shipmentPackageId snapshot

orderNumber: 10839680964

| shipmentPackageId | status | id |
|---:|---|---|
| 3506141865 |  | cmjwooofk0003e6lgvgaej43s |
| 3504063748 |  | cmjveq9a6000be6dopcaer6tz |
| 3504063749 |  | cmjveq9ai000fe6dopgt5qk6s |
| 3504058315 |  | cmjvekgzt0003e6doklgvuirv |
